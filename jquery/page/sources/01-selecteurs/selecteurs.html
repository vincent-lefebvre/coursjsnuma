<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Selecteurs Jquery</title>
    <style>
    .maClasse{
        color: blue;
        text-decoration: underline;
        background: skyblue;
    }
    </style>
</head>
<body>
    <h1>Titre H1</h1>

    <p>paragraphe 1</p>
    <p>paragraphe 2</p>
    <p>paragraphe 3</p>
    <p>paragraphe 4</p>

    <div>Div1</div>
    <div class="select">Div2</div>
    <nav class="select">Nav1</nav>

    <span>Span 1</span>
    <span>Span 2</span>
    <span>Span 3</span>
    <span class="fakeClass">Span 4</span>
    <span class="coucou">Span 5</span>

    <figure>
        <img src="../../../../img/b.jpg" alt="un petit chat blanc" style="width: 200px;">
        <figcaption></figcaption>
    </figure>

    <script src="../../js/jquery-3.4.1.js"></script>
    <script>
        // console.log(document.getElementsByTagName('h1'));
        // console.log(document.querySelector('h1').innerHTML);
        // la fonction query $ est l'équivalent d'un document.querySelectorAll()
        // la méthode eq() permet de selectionner en jquery un indice d'une collection d'objets
        // la méthode html() remplace innerHTML pour récupérer ou redéfinir un contenu de balise.
        console.log($('h1').eq(0).html());
        // pour le redéfinir : 
        $('h1').eq(0).html('<a href="#">Mon titre via Jquery</a>');

        // redefinir ou récupérer le contenu texte
        //$('h1').eq(0).text('<a href="#">Mon titre via Jquery</a>');
        console.log($('h1').eq(0).text());

        console.log($('p').eq(2).text());

        $('p').eq(0).html('Hello');

        //plutot que remplacer le texte d'une balise, nous pouvons choisir de rajouter du texte. Aussi nous allons devoir choisir de le rajouter avant ou après

        $('p').eq(1).append(' Après');

        $('p').eq(2).prepend('Avant ')

        // methode css() applique des changements css en remplacement de .style
        // appliquer un seul changement:
        $('p').css("color","red");                            
        // appliquer plusieurs changements:
        $('p').css({
            'color':'red',
            'font-weight':'bold',
            'margin':'10px'
        });    

        // selectionner les div, leur donner un contour rouge.
        $('div').css({
            'border':'2px solid red'
        })                

        // selectionner les elements qui ont la classe .select pour leur appliquer une couleur de fond 'blue' et un texte 'white'

        $('.select').css({
            "background":"blue",
            "color":"white",
        });

        //selectionner les trois éléments pour faire précéder leur contenu d'un tiret

        $('div, nav').prepend('- ')

        // Manipulations de classes (addClass(),removeClass(),toogleClass(),hasClass())


        // addClass() permet d'ajouter une classe à la selection.
        console.log($('span').eq(2).text());
        $('span').eq(2).text('maClasse');

        // removeClass() retire une class existante à un élément
        $('span').eq(3).removeClass('fakeClass');

        // retirer la classe .maClasse au span 2
        $('span').eq(1).removeClass('fakeClass');

        // manipulations d'attributs (attr(), removeAttr())
        //attr() qui etablit un nouvel attribut
        $('div').eq(1).attr("title","Hello");

        $('span').eq(4).removeAttr('class');


        // parents enfants
        // en selectionnant le parent (figure) je cherche à toucher un enfant (img) pour lui appliquer un attribut title
        $('figure').find('img').attr("title","Petit chat");

        // en selectionnant un enfant, je vais essayer d'atteindre le parent.
        // .parent() va chercher le parent naturel, si je demande parent().parent() il va me chercher le parent du parent (ici le body)
        $('img').parent().css("border","2px solid green");

        // console.log() present pour vérifier tout de suite si je parviens à récupérer le contenu de alt
        console.log($('img').attr('alt'));

        // une fois certain que je récupère le contenu souhaité, j'affecte ce contenu dans une variable (pas obligatoire mais plus simple à manipuler)
        var monAlt = $('img').attr('alt');

        // je selectionne ma legende (figcaption) pour remplir la balise avec ma variable (le contenu du alt)
        $('figcaption').html(monAlt);
        console.log(monAlt);

        // le tout peut aussi se résoudre en une seule ligne:
        // $('figcaption').html($('img').attr('alt'));
        

    </script>
    
</body>
</html>